/* remove thin white line below toolbar */
#navigator-toolbox {
   border-bottom: none !important;
   margin-bottom: 0 !important;
}

/* URL BAR */
#urlbar,
#urlbar-background {
   border: none !important;
}

#urlbar {
   border-radius: 8px !important;
   border: 0 !important;
   margin: -1.5px;
}

#urlbar:not(.megabar):not([focused="true"]):hover {
   outline: 1px solid var(--urlbar-outline) !important;
}

#urlbar[focused="true"] {
   border: 0 !important;
   border-top: 1px solid var(--urlbar-border-top) !important;
   border-bottom: 1px solid var(--urlbar-border-bottom) !important;
   border-radius: 8px !important;
}

#urlbar[breakout][breakout-extend] {
   border: none !important;
   top: calc((var(--urlbar-toolbar-height) - var(--urlbar-height)) / 2) !important;
   left: 0 !important;
   width: 100% !important;
}

#urlbar-container {
   margin-top: 0px;
   display: initial;
}

#urlbar-background {
   box-shadow: none !important;
   border-radius: 8px !important;
   /* background: var(--urlbar-bg) !important; */
}

#urlbar[focused="true"] #urlbar-background {
   box-shadow: inset 1px 1px 1px 0px rgba(0, 0, 0, 0.35) !important;
   outline: none !important;
}

#wrapper-urlbar-container #urlbar {
   height: var(--urlbar-height) !important;
}

/* Active Address/Search Field Dropdown */
#urlbar[breakout][breakout-extend]>#urlbar-background {
   outline: none !important;
   box-shadow: none !important;
   /* background: var(--toolbar-bgcolor) !important; */
   border-radius: 15px !important;
}

#urlbar[breakout][breakout-extend]>#urlbar-input-container,
#urlbar-input-container {
   height: var(--urlbar-height) !important;
   padding-block: 0px !important;
   padding-inline: 0px !important;
   transition: none !important;
}

/* Idendity icon button */
#identity-icon-box.identity-box-button {
   margin: 3px 0 3px 3px;
   border-radius: 14px !important;
   /* background-color: var(--bg) !important; */
   opacity: 0.8
}

#identity-icon-box.identity-box-button:hover {
   cursor: pointer;
   /* background-color: var(--identity-btn-hover-color) !important; */
}

/* Track protection icon */
#tracking-protection-icon-container {
   border-radius: 16px !important;
}

#tracking-protection-icon-container:hover {
   cursor: pointer !important;
}

/* Star button */
#star-button-box {
   border-radius: 16px !important;
}

#star-button-box {
   cursor: pointer !important;
}

/* | Borders | */

.tabbrowser-tab::after {
   border: 0 !important;
}

.titlebar-spacer[type="pre-tabs"] {
   border: 0 !important;
}

.titlebar-spacer[type="pre-tabs"] {
   border: 0 !important;
}

.tabbrowser-tab::after {
   border: 0 !important;
}

#urlbar-background {
   border: 0 !important;
}

#urlbar[open]>.urlbarView>.urlbarView-body-outer>.urlbarView-body-inner {
   border-top: 0 !important;
}

#browser,
#content,
#appcontent {
   margin-top: 0 !important;
   padding-top: 0 !important;
   border-top: none !important;
}


/* Active Tab */
:root:not([lwt-default-theme-in-dark-mode]) .tab-background[selected],
.tab-background[multiselected="true"] {
   background: rgba(0, 0, 0, .05) !important;
}

:root[lwt-default-theme-in-dark-mode] .tab-background[selected],
.tab-background[multiselected="true"] {
   background: rgba(0, 0, 0, .2) !important;
}


/* Navigation Bar */
/* reducing navbar and items */
#nav-bar {
   min-height: 38px !important;
   height: 38px !important;
   padding: 0 !important;
   margin: 0 !important;
   /* background-color: var(--bg) !important; */
   border-bottom: none !important;
}

#nav-bar toolbarbutton {
   padding: 0 !important;
   margin: 0 !important;
}

#urlbar-icons>toolbarbutton {
   padding: 0 !important;
   margin: 0 !important;
}

/* Navigation bar Buttons */
toolbarbutton:hover {
   cursor: pointer;
}

/* Show Tab close button on hover */
.tabbrowser-tab:not([pinned]) .tab-close-button {
   display: -moz-box !important;
   opacity: 0;
   visibility: collapse !important;
   transition: opacity 0.25s, visibility 0.25s ease-in !important;
}

.tabbrowser-tab:not([pinned]):hover .tab-close-button {
   opacity: 1;
   visibility: visible !important;
   border-radius: 3px 3px 3px 3px !important;
}

/* Show URL buttons on Hover */
#nav-bar:not([customizing="true"])>#nav-bar-customization-target>#urlbar-container:not(:hover)>#urlbar:not([focused])>#urlbar-input-container>#page-action-buttons {
   opacity: 0;
}

#page-action-buttons {
   transition: opacity 0.15s ease;
}

#nav-bar:not([customizing="true"])>#nav-bar-customization-target>#urlbar-container:not(:hover)>#urlbar:not([focused])>#urlbar-input-container>#tracking-protection-icon-container {
   opacity: 0;
}

#tracking-protection-icon-container {
   transition: opacity 0.15s ease;
}


/* Uncomment to Hide tabs bar for Tree style tabs (Credit u/jfgxyz on Reddit) */
toolbar#TabsToolbar {
   height: 0px;
   min-height: 0 !important;
   border-bottom: none;
}

.toolbar-items {
   visibility: collapse;
}

/* ----- Move menu buttons ----- */
/* :root {
   --toolbar-start-end-padding: 2px !important; 
} */

#nav-bar #PanelUI-button {
   -moz-box-ordinal-group: 0 !important;
}

#nav-bar #PanelUI-button #PanelUI-menu-button {
   margin-right: 2px !important;
   margin-left: 2px !important;
}

/* toolbar:not([customizing]) > #nav-bar-overflow-button {
   -moz-box-ordinal-group: 1 !important;
}

toolbar:not([customizing]) > #nav-bar-customization-target {
   -moz-box-ordinal-group: 2 !important;
} */

/* ----- Close/min/max fix ----- */
/* Fix popup position */
#appMenu-popup {
   margin-inline: -244px !important;
}

#nav-bar {
   padding-left: 0px !important;
   padding-right: 118px !important;
   position: static !important;
}

#navigator-toolbox:not([inFullscreen]) #TabsToolbar .titlebar-buttonbox-container {
   visibility: visible !important;
   display: block !important;
   position: absolute !important;
   left: unset !important;
   right: 0 !important;
}

#TabsToolbar .titlebar-min {
   -moz-box-ordinal-group: 0 !important;
}

#TabsToolbar .titlebar-max,
.titlebar-restore {
   -moz-box-ordinal-group: 1 !important;
}

#TabsToolbar .titlebar-close {
   -moz-box-ordinal-group: 2 !important;
}

#navigator-toolbox[inFullscreen] #navigator-toolbox #TabsToolbar .titlebar-buttonbox-container {
   -moz-box-ordinal-group: 1 !important;
}

#navigator-toolbox #TabsToolbar .titlebar-buttonbox-container {
   -moz-box-ordinal-group: 1 !important;
}

@media only screen and (max-width: 670px) {
   #main-window #navigator-toolbox:not([inFullscreen]) #TabsToolbar .titlebar-buttonbox-container {
      visibility: visible !important;
      position: relative !important;
      display: block !important;
   }

   #main-window #navigator-toolbox:not([inFullscreen]) #nav-bar {
      padding-right: initial !important;
   }

   #TabsToolbar.browser-toolbar {
      display: flex !important;
      justify-content: flex-end !important;
   }

}

/* Line up the Windows controls with the rest of the icons in the toolbar. */
:root:not([sizemode="maximized"]) .titlebar-buttonbox-container {
   padding-top: 0px;
}

.titlebar-buttonbox {
   z-index: 3 !important;
}

.titlebar-buttonbox * {
   width: 35px;
   height: 38px;
   margin: 0;
   padding: 0;
}



/* SIDEBERY */

/* hides the sidebar header */
#sidebar-header {
   display: none !important;
}

.tab[selected="true"] {
   visibility: collapse;
   height: 0px;
}

.tabbrowser-tab {
   visibility: collapse;
   height: 0px;
}

.tabbrowser-tab[visuallyselected="true"] {
   visibility: collapse;
   height: 0px;
}


#sidebar-box[positionend] {
   direction: rtl;
}

#sidebar-box[positionend]>* {
   direction: ltr;
}

#sidebar-box[positionend]:-moz-locale-dir(rtl) {
   direction: ltr;
}

#sidebar-box[positionend]:-moz-locale-dir(rtl)>* {
   direction: rtl;
}

/* show or hide the splitter that allows to resize the sidebar */
#sidebar-splitter {
   display: none;
}

.sidebar-panel {
   background-color: transparent !important;
}

/* Move statuspanel to the other side when sidebar is hovered so it doesn't get covered by sidebar */

#sidebar-box:not([positionend]):hover~#appcontent #statuspanel {
   inset-inline: auto 0px !important;
}

#sidebar-box:not([positionend]):hover~#appcontent #statuspanel-label {
   margin-inline: 0px !important;
   border-left-style: solid !important;
}